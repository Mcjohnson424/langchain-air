---
hide_table_of_contents: true
sidebar_position: 1
---

import QAExample from "@examples/chains/question_answering.ts";
import RefineExample from "@examples/chains/qa_refine.ts";
import CodeBlock from "@theme/CodeBlock";

# Document QA

LangChain provides an assortment of chains specifically tailored for dealing with unstructured text data: `StuffDocumentsChain`, `MapReduceDocumentsChain`, and `RefineDocumentsChain`. These chains form the basic building blocks for developing more complex chains that interact with such data. They are designed to take both documents and a question as input, then utilize the language model to formulate a response based on the provided documents.

- `StuffDocumentsChain`: This chain is the most straightforward among the three. It simply injects all input documents into the prompt as context and returns the answer to the question. It is suitable for QA tasks over a small number of documents.
- `MapReduceDocumentsChain`: This chain incorporates a preprocessing step to select relevant sections from each document until the total number of tokens is less than the maximum number of tokens allowed by the model. It then uses the transformed documents as context to answer the question. It is suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time.
- `RefineDocumentsChain`: This chain iterates over the input documents one by one, updating an intermediate answer with each iteration. It uses the previous version of the answer and the next document as context. It is suitable for QA tasks over a large number of documents.

## Usage, `StuffDocumentsChain` and `MapReduceDocumentsChain`

<CodeBlock language="typescript">{QAExample}</CodeBlock>

## Usage, `RefineDocumentsChain`

<CodeBlock language="typescript">{RefineExample}</CodeBlock>
